@namespace TextileEditor.Web.Layout

<FluentButton id="FileMenuOpen" Appearance="Appearance.Stealth" @onclick="@(() => open = !open)">
    @Localizer[SharedResource.File]
</FluentButton>

<FluentMenu Anchor="FileMenuOpen" @bind-Open="open" VerticalThreshold="170">
    <FluentMenuItem Label="@Localizer[SharedResource.New]" OnClick="CreateSessionAsync" />
    <FluentMenuItem Label="@Localizer[SharedResource.Upload]" OnClick="UploadTextileAsync" />
    <FluentMenuItem Label="@Localizer[SharedResource.Save]">
        <MenuItems>
            <FluentMenuItem Label="@Localizer[SharedResource.Save]" OnClick="DownloadSessionAsync" />
            <FluentMenuItem Label="@Localizer[SharedResource.GenerateDownloadLink]" OnClick="GenerateDownloadLinkAsync" />
        </MenuItems>
    </FluentMenuItem>
    <FluentMenuItem Label="@Localizer[SharedResource.SaveAs]" OnClick="OpenDialogAsync" />
    <FluentMenuItem Label="Save Local Storage" OnClick="ForceSave" />
</FluentMenu>

<FluentInputFile @ref="@FileUploader"
                 DragDropZoneVisible="false"
                 Mode="InputFileMode.SaveToTemporaryFolder"
                 Multiple="false"
                 MaximumFileSize="@(100 * 1024 * 1024)"
                 Accept="@(AllowExtensions)" />