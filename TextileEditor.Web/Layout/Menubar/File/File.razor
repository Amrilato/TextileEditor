@namespace TextileEditor.Web.Layout

<FluentButton id="FileMenuOpen" Appearance="Appearance.Stealth" @onclick="@(() => open = !open)">
    File
</FluentButton>

<FluentMenu Anchor="FileMenuOpen" @bind-Open="open" VerticalThreshold="170">
    <FluentMenuItem Label="New" OnClick="CreateSessionAsync" />
    <FluentMenuItem Label="Upload" OnClick="UploadTextileAsync" />
    <FluentMenuItem Label="Save">
        <MenuItems>
            <FluentMenuItem Label="Save" OnClick="DownloadSessionAsync" />
            <FluentMenuItem Label="GenerateDownloadLink" OnClick="GenerateDownloadLinkAsync" />
        </MenuItems>
    </FluentMenuItem>
    <FluentMenuItem Label="SaveAs" OnClick="OpenDialogAsync" />
    <FluentMenuItem Label="Save Local Storage" OnClick="ForceSave" />
</FluentMenu>

<FluentInputFile @ref="@FileUploader"
                 DragDropZoneVisible="false"
                 Mode="InputFileMode.SaveToTemporaryFolder"
                 Multiple="false"
                 MaximumFileSize="@(100 * 1024 * 1024)"
                 Accept="@(AllowExtensions)" />